{"ast":null,"code":"import React,{useState}from'react';import ImageUploader from'./components/ImageUploader';import OptimizationControls from'./components/OptimizationControls';import AdvancedOptions from'./components/AdvancedOptions';import ResultsDisplay from'./components/ResultsDisplay';import{optimizeImage}from'./services/api';import'./styles/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[originalImage,setOriginalImage]=useState(null);const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleUpload=(file,previewUrl)=>{console.log(\"üìÅ Image uploaded:\",file.name,file.size);setOriginalImage({file,previewUrl});setResult(null);setError('');};const handleOptimize=async basicOptions=>{if(!originalImage)return;console.log(\"üü° Starting optimization...\",basicOptions);setLoading(true);setError('');try{var _data$optimizedImage;const data=await optimizeImage(originalImage.file,basicOptions);console.log(\"‚úÖ API Response received!\");console.log(\"üìä Has optimizedImage?\",!!data.optimizedImage);console.log(\"üìä Image data length:\",(_data$optimizedImage=data.optimizedImage)===null||_data$optimizedImage===void 0?void 0:_data$optimizedImage.length);console.log(\"üìä Full response:\",data);setResult(data);}catch(err){console.error(\"‚ùå API Error:\",err);setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDE80 Advanced Image Optimizer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Professional-grade image optimization with AI enhancements\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"upload-section\",children:/*#__PURE__*/_jsx(ImageUploader,{onUpload:handleUpload})}),originalImage&&/*#__PURE__*/_jsxs(\"section\",{className:\"controls-section\",children:[/*#__PURE__*/_jsx(OptimizationControls,{onOptimize:handleOptimize,loading:loading,originalFile:originalImage.file}),/*#__PURE__*/_jsx(AdvancedOptions,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"results-section\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-alert\",children:[\"\\u274C \",error]}),result&&/*#__PURE__*/_jsx(ResultsDisplay,{result:result,originalImage:originalImage})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Applying AI optimizations...\"})]})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"app-footer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Powered by AWS Lambda \\u2022 Advanced Image Processing \\u2022 AI Enhancements\"}),/*#__PURE__*/_jsx(\"p\",{className:\"api-info\",children:\"API: https://ke3a91dqwe.execute-api.ap-south-1.amazonaws.com/prod/optimize\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","ImageUploader","OptimizationControls","AdvancedOptions","ResultsDisplay","optimizeImage","jsx","_jsx","jsxs","_jsxs","App","originalImage","setOriginalImage","result","setResult","loading","setLoading","error","setError","handleUpload","file","previewUrl","console","log","name","size","handleOptimize","basicOptions","_data$optimizedImage","data","optimizedImage","length","err","message","className","children","onUpload","onOptimize","originalFile"],"sources":["C:/Users/malla/Downloads/image-optimization-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport ImageUploader from './components/ImageUploader';\r\nimport OptimizationControls from './components/OptimizationControls';\r\nimport AdvancedOptions from './components/AdvancedOptions';\r\nimport ResultsDisplay from './components/ResultsDisplay';\r\nimport { optimizeImage } from './services/api';\r\nimport './styles/App.css';\r\n\r\nfunction App() {\r\n  const [originalImage, setOriginalImage] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  const handleUpload = (file, previewUrl) => {\r\n    console.log(\"üìÅ Image uploaded:\", file.name, file.size);\r\n    setOriginalImage({ file, previewUrl });\r\n    setResult(null);\r\n    setError('');\r\n  };\r\n  \r\n  const handleOptimize = async (basicOptions) => {\r\n    if (!originalImage) return;\r\n    \r\n    console.log(\"üü° Starting optimization...\", basicOptions);\r\n    setLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const data = await optimizeImage(originalImage.file, basicOptions);\r\n      console.log(\"‚úÖ API Response received!\");\r\n      console.log(\"üìä Has optimizedImage?\", !!data.optimizedImage);\r\n      console.log(\"üìä Image data length:\", data.optimizedImage?.length);\r\n      console.log(\"üìä Full response:\", data);\r\n      \r\n      setResult(data);\r\n    } catch (err) {\r\n      console.error(\"‚ùå API Error:\", err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"app-header\">\r\n        <h1>üöÄ Advanced Image Optimizer</h1>\r\n        <p className=\"subtitle\">Professional-grade image optimization with AI enhancements</p>\r\n      </header>\r\n      \r\n      <main className=\"app-main\">\r\n        <section className=\"upload-section\">\r\n          <ImageUploader onUpload={handleUpload} />\r\n        </section>\r\n        \r\n        {originalImage && (\r\n          <section className=\"controls-section\">\r\n            <OptimizationControls \r\n              onOptimize={handleOptimize}\r\n              loading={loading}\r\n              originalFile={originalImage.file}\r\n            />\r\n            <AdvancedOptions />\r\n          </section>\r\n        )}\r\n        \r\n        <section className=\"results-section\">\r\n          {error && <div className=\"error-alert\">‚ùå {error}</div>}\r\n          \r\n          {result && (\r\n            <ResultsDisplay \r\n              result={result}\r\n              originalImage={originalImage}\r\n            />\r\n          )}\r\n        </section>\r\n        \r\n        {loading && (\r\n          <div className=\"loading-overlay\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Applying AI optimizations...</p>\r\n          </div>\r\n        )}\r\n      </main>\r\n      \r\n      <footer className=\"app-footer\">\r\n        <p>Powered by AWS Lambda ‚Ä¢ Advanced Image Processing ‚Ä¢ AI Enhancements</p>\r\n        <p className=\"api-info\">API: https://ke3a91dqwe.execute-api.ap-south-1.amazonaws.com/prod/optimize</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,oBAAoB,KAAM,mCAAmC,CACpE,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,MAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAmB,YAAY,CAAGA,CAACC,IAAI,CAAEC,UAAU,GAAK,CACzCC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEH,IAAI,CAACI,IAAI,CAAEJ,IAAI,CAACK,IAAI,CAAC,CACvDb,gBAAgB,CAAC,CAAEQ,IAAI,CAAEC,UAAW,CAAC,CAAC,CACtCP,SAAS,CAAC,IAAI,CAAC,CACfI,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAG,KAAO,CAAAC,YAAY,EAAK,CAC7C,GAAI,CAAChB,aAAa,CAAE,OAEpBW,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEI,YAAY,CAAC,CACxDX,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,KAAAU,oBAAA,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAxB,aAAa,CAACM,aAAa,CAACS,IAAI,CAAEO,YAAY,CAAC,CAClEL,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvCD,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAE,CAAC,CAACM,IAAI,CAACC,cAAc,CAAC,CAC5DR,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAAK,oBAAA,CAAEC,IAAI,CAACC,cAAc,UAAAF,oBAAA,iBAAnBA,oBAAA,CAAqBG,MAAM,CAAC,CACjET,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEM,IAAI,CAAC,CAEtCf,SAAS,CAACe,IAAI,CAAC,CACjB,CAAE,MAAOG,GAAG,CAAE,CACZV,OAAO,CAACL,KAAK,CAAC,cAAc,CAAEe,GAAG,CAAC,CAClCd,QAAQ,CAACc,GAAG,CAACC,OAAO,CAAC,CACvB,CAAC,OAAS,CACRjB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,KAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB1B,KAAA,WAAQyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5B5B,IAAA,OAAA4B,QAAA,CAAI,uCAA2B,CAAI,CAAC,cACpC5B,IAAA,MAAG2B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,4DAA0D,CAAG,CAAC,EAChF,CAAC,cAET1B,KAAA,SAAMyB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACxB5B,IAAA,YAAS2B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cACjC5B,IAAA,CAACN,aAAa,EAACmC,QAAQ,CAAEjB,YAAa,CAAE,CAAC,CAClC,CAAC,CAETR,aAAa,eACZF,KAAA,YAASyB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACnC5B,IAAA,CAACL,oBAAoB,EACnBmC,UAAU,CAAEX,cAAe,CAC3BX,OAAO,CAAEA,OAAQ,CACjBuB,YAAY,CAAE3B,aAAa,CAACS,IAAK,CAClC,CAAC,cACFb,IAAA,CAACJ,eAAe,GAAE,CAAC,EACZ,CACV,cAEDM,KAAA,YAASyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,EACjClB,KAAK,eAAIR,KAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,SAAE,CAAClB,KAAK,EAAM,CAAC,CAErDJ,MAAM,eACLN,IAAA,CAACH,cAAc,EACbS,MAAM,CAAEA,MAAO,CACfF,aAAa,CAAEA,aAAc,CAC9B,CACF,EACM,CAAC,CAETI,OAAO,eACNN,KAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5B,IAAA,QAAK2B,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/B3B,IAAA,MAAA4B,QAAA,CAAG,8BAA4B,CAAG,CAAC,EAChC,CACN,EACG,CAAC,cAEP1B,KAAA,WAAQyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5B5B,IAAA,MAAA4B,QAAA,CAAG,+EAAmE,CAAG,CAAC,cAC1E5B,IAAA,MAAG2B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,4EAA0E,CAAG,CAAC,EAChG,CAAC,EACN,CAAC,CAEV,CAEA,cAAe,CAAAzB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}