{"ast":null,"code":"// REPLACE the downloadImage function (around line 30):\n\nconst downloadImage = () => {\n  if (!stats.optimizedImage) return;\n\n  // Extract base64 from data URL\n  const base64Data = stats.optimizedImage;\n  const base64String = base64Data.split(',')[1];\n  const mimeType = base64Data.split(',')[0].split(':')[1].split(';')[0];\n\n  // Convert base64 to blob\n  const byteCharacters = atob(base64String);\n  const byteNumbers = new Array(byteCharacters.length);\n  for (let i = 0; i < byteCharacters.length; i++) {\n    byteNumbers[i] = byteCharacters.charCodeAt(i);\n  }\n  const byteArray = new Uint8Array(byteNumbers);\n  const blob = new Blob([byteArray], {\n    type: mimeType\n  });\n\n  // Create download link\n  const link = document.createElement('a');\n  link.href = URL.createObjectURL(blob);\n  link.download = `optimized-image.${stats.format}`;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(link.href);\n};","map":{"version":3,"names":["downloadImage","stats","optimizedImage","base64Data","base64String","split","mimeType","byteCharacters","atob","byteNumbers","Array","length","i","charCodeAt","byteArray","Uint8Array","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","format","body","appendChild","click","removeChild","revokeObjectURL"],"sources":["C:/Users/malla/Downloads/image-optimization-app/src/components/ResultsDisplay.js"],"sourcesContent":["// REPLACE the downloadImage function (around line 30):\r\n\r\nconst downloadImage = () => {\r\n  if (!stats.optimizedImage) return;\r\n  \r\n  // Extract base64 from data URL\r\n  const base64Data = stats.optimizedImage;\r\n  const base64String = base64Data.split(',')[1];\r\n  const mimeType = base64Data.split(',')[0].split(':')[1].split(';')[0];\r\n  \r\n  // Convert base64 to blob\r\n  const byteCharacters = atob(base64String);\r\n  const byteNumbers = new Array(byteCharacters.length);\r\n  \r\n  for (let i = 0; i < byteCharacters.length; i++) {\r\n    byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n  }\r\n  \r\n  const byteArray = new Uint8Array(byteNumbers);\r\n  const blob = new Blob([byteArray], { type: mimeType });\r\n  \r\n  // Create download link\r\n  const link = document.createElement('a');\r\n  link.href = URL.createObjectURL(blob);\r\n  link.download = `optimized-image.${stats.format}`;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(link.href);\r\n};"],"mappings":"AAAA;;AAEA,MAAMA,aAAa,GAAGA,CAAA,KAAM;EAC1B,IAAI,CAACC,KAAK,CAACC,cAAc,EAAE;;EAE3B;EACA,MAAMC,UAAU,GAAGF,KAAK,CAACC,cAAc;EACvC,MAAME,YAAY,GAAGD,UAAU,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC7C,MAAMC,QAAQ,GAAGH,UAAU,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAErE;EACA,MAAME,cAAc,GAAGC,IAAI,CAACJ,YAAY,CAAC;EACzC,MAAMK,WAAW,GAAG,IAAIC,KAAK,CAACH,cAAc,CAACI,MAAM,CAAC;EAEpD,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,cAAc,CAACI,MAAM,EAAEC,CAAC,EAAE,EAAE;IAC9CH,WAAW,CAACG,CAAC,CAAC,GAAGL,cAAc,CAACM,UAAU,CAACD,CAAC,CAAC;EAC/C;EAEA,MAAME,SAAS,GAAG,IAAIC,UAAU,CAACN,WAAW,CAAC;EAC7C,MAAMO,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,SAAS,CAAC,EAAE;IAAEI,IAAI,EAAEZ;EAAS,CAAC,CAAC;;EAEtD;EACA,MAAMa,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EACxCF,IAAI,CAACG,IAAI,GAAGC,GAAG,CAACC,eAAe,CAACR,IAAI,CAAC;EACrCG,IAAI,CAACM,QAAQ,GAAG,mBAAmBxB,KAAK,CAACyB,MAAM,EAAE;EACjDN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,IAAI,CAAC;EAC/BA,IAAI,CAACU,KAAK,CAAC,CAAC;EACZT,QAAQ,CAACO,IAAI,CAACG,WAAW,CAACX,IAAI,CAAC;EAC/BI,GAAG,CAACQ,eAAe,CAACZ,IAAI,CAACG,IAAI,CAAC;AAChC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}