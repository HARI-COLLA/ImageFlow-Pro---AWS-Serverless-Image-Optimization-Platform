{"ast":null,"code":"import{fileToBase64}from'./utils';// Hardcoded config\nconst config={API_ENDPOINT:\"https://ke3a91dqwe.execute-api.ap-south-1.amazonaws.com/prod/optimize\",MAX_FILE_SIZE:10*1024*1024,SUPPORTED_TYPES:['image/jpeg','image/jpg','image/png','image/webp','image/gif','image/bmp']};export const optimizeImage=async(file,options)=>{try{const base64Image=await fileToBase64(file);const requestBody={imageUrl:base64Image,width:parseInt(options.width)||800,format:options.format||'webp',quality:parseInt(options.quality)||85,optimizeLevel:options.optimizationLevel||'balanced'};// Add optional parameters\nif(options.sharpness)requestBody.sharpness=parseFloat(options.sharpness);if(options.contrast)requestBody.contrast=parseFloat(options.contrast);if(options.brightness)requestBody.brightness=parseFloat(options.brightness);if(options.stripMetadata!==undefined)requestBody.stripMetadata=options.stripMetadata;if(options.progressive!==undefined)requestBody.progressive=options.progressive;console.log('API Request:',requestBody);const response=await fetch(config.API_ENDPOINT,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});if(!response.ok){throw new Error(\"HTTP \".concat(response.status));}const data=await response.json();if(!data.success){throw new Error(data.error||'Optimization failed');}return data;}catch(error){console.error('API Error:',error);throw new Error(\"Optimization failed: \".concat(error.message));}};export{config};","map":{"version":3,"names":["fileToBase64","config","API_ENDPOINT","MAX_FILE_SIZE","SUPPORTED_TYPES","optimizeImage","file","options","base64Image","requestBody","imageUrl","width","parseInt","format","quality","optimizeLevel","optimizationLevel","sharpness","parseFloat","contrast","brightness","stripMetadata","undefined","progressive","console","log","response","fetch","method","headers","body","JSON","stringify","ok","Error","concat","status","data","json","success","error","message"],"sources":["C:/Users/malla/Downloads/image-optimization-app/src/services/api.js"],"sourcesContent":["import { fileToBase64 } from './utils';\r\n\r\n// Hardcoded config\r\nconst config = {\r\n    API_ENDPOINT: \"https://ke3a91dqwe.execute-api.ap-south-1.amazonaws.com/prod/optimize\",\r\n    MAX_FILE_SIZE: 10 * 1024 * 1024,\r\n    SUPPORTED_TYPES: ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif', 'image/bmp']\r\n};\r\n\r\nexport const optimizeImage = async (file, options) => {\r\n    try {\r\n        const base64Image = await fileToBase64(file);\r\n        \r\n        const requestBody = {\r\n            imageUrl: base64Image,\r\n            width: parseInt(options.width) || 800,\r\n            format: options.format || 'webp',\r\n            quality: parseInt(options.quality) || 85,\r\n            optimizeLevel: options.optimizationLevel || 'balanced'\r\n        };\r\n        \r\n        // Add optional parameters\r\n        if (options.sharpness) requestBody.sharpness = parseFloat(options.sharpness);\r\n        if (options.contrast) requestBody.contrast = parseFloat(options.contrast);\r\n        if (options.brightness) requestBody.brightness = parseFloat(options.brightness);\r\n        if (options.stripMetadata !== undefined) requestBody.stripMetadata = options.stripMetadata;\r\n        if (options.progressive !== undefined) requestBody.progressive = options.progressive;\r\n        \r\n        console.log('API Request:', requestBody);\r\n        \r\n        const response = await fetch(config.API_ENDPOINT, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(requestBody)\r\n        });\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(`HTTP ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (!data.success) {\r\n            throw new Error(data.error || 'Optimization failed');\r\n        }\r\n        \r\n        return data;\r\n        \r\n    } catch (error) {\r\n        console.error('API Error:', error);\r\n        throw new Error(`Optimization failed: ${error.message}`);\r\n    }\r\n};\r\n\r\nexport { config };"],"mappings":"AAAA,OAASA,YAAY,KAAQ,SAAS,CAEtC;AACA,KAAM,CAAAC,MAAM,CAAG,CACXC,YAAY,CAAE,uEAAuE,CACrFC,aAAa,CAAE,EAAE,CAAG,IAAI,CAAG,IAAI,CAC/BC,eAAe,CAAE,CAAC,YAAY,CAAE,WAAW,CAAE,WAAW,CAAE,YAAY,CAAE,WAAW,CAAE,WAAW,CACpG,CAAC,CAED,MAAO,MAAM,CAAAC,aAAa,CAAG,KAAAA,CAAOC,IAAI,CAAEC,OAAO,GAAK,CAClD,GAAI,CACA,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAR,YAAY,CAACM,IAAI,CAAC,CAE5C,KAAM,CAAAG,WAAW,CAAG,CAChBC,QAAQ,CAAEF,WAAW,CACrBG,KAAK,CAAEC,QAAQ,CAACL,OAAO,CAACI,KAAK,CAAC,EAAI,GAAG,CACrCE,MAAM,CAAEN,OAAO,CAACM,MAAM,EAAI,MAAM,CAChCC,OAAO,CAAEF,QAAQ,CAACL,OAAO,CAACO,OAAO,CAAC,EAAI,EAAE,CACxCC,aAAa,CAAER,OAAO,CAACS,iBAAiB,EAAI,UAChD,CAAC,CAED;AACA,GAAIT,OAAO,CAACU,SAAS,CAAER,WAAW,CAACQ,SAAS,CAAGC,UAAU,CAACX,OAAO,CAACU,SAAS,CAAC,CAC5E,GAAIV,OAAO,CAACY,QAAQ,CAAEV,WAAW,CAACU,QAAQ,CAAGD,UAAU,CAACX,OAAO,CAACY,QAAQ,CAAC,CACzE,GAAIZ,OAAO,CAACa,UAAU,CAAEX,WAAW,CAACW,UAAU,CAAGF,UAAU,CAACX,OAAO,CAACa,UAAU,CAAC,CAC/E,GAAIb,OAAO,CAACc,aAAa,GAAKC,SAAS,CAAEb,WAAW,CAACY,aAAa,CAAGd,OAAO,CAACc,aAAa,CAC1F,GAAId,OAAO,CAACgB,WAAW,GAAKD,SAAS,CAAEb,WAAW,CAACc,WAAW,CAAGhB,OAAO,CAACgB,WAAW,CAEpFC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEhB,WAAW,CAAC,CAExC,KAAM,CAAAiB,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC1B,MAAM,CAACC,YAAY,CAAE,CAC9C0B,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACvB,WAAW,CACpC,CAAC,CAAC,CAEF,GAAI,CAACiB,QAAQ,CAACO,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,SAAAC,MAAA,CAAST,QAAQ,CAACU,MAAM,CAAE,CAAC,CAC9C,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CAElC,GAAI,CAACD,IAAI,CAACE,OAAO,CAAE,CACf,KAAM,IAAI,CAAAL,KAAK,CAACG,IAAI,CAACG,KAAK,EAAI,qBAAqB,CAAC,CACxD,CAEA,MAAO,CAAAH,IAAI,CAEf,CAAE,MAAOG,KAAK,CAAE,CACZhB,OAAO,CAACgB,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CAClC,KAAM,IAAI,CAAAN,KAAK,yBAAAC,MAAA,CAAyBK,KAAK,CAACC,OAAO,CAAE,CAAC,CAC5D,CACJ,CAAC,CAED,OAASxC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}